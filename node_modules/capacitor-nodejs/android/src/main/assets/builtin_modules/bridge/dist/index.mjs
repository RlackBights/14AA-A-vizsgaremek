import { EventEmitter } from 'events';
import process from 'process';

class ChannelMessageCodec {
    static serialize(payload) {
        const eventName = payload.eventName;
        const args = payload.args;
        const eventMessage = JSON.stringify(args);
        const data = {
            eventName,
            eventMessage
        };
        const channelMessage = JSON.stringify(data);
        return channelMessage;
    }
    static deserialize(channelMessage) {
        const data = JSON.parse(channelMessage);
        const eventName = data.eventName;
        const eventMessage = data.eventMessage;
        let args = [];
        if (eventMessage) {
            args = JSON.parse(eventMessage);
        }
        const payload = {
            eventName,
            args
        };
        return payload;
    }
}

class NativeMobileBridge {
    constructor() {
        this.mobileBridge = process._linkedBinding('nativeBridge');
    }
    emit(args) {
        this.mobileBridge.emit(args.channelName, args.channelMessage);
    }
    registerChannel(channelName, callback) {
        this.mobileBridge.registerChannel(channelName, (channelName, channelMessage) => {
            callback({ channelName, channelMessage });
        });
    }
}
class NativeDesktopBridge {
    emit(args) {
        if (!process.send) {
            throw new Error('No IPC channel has been established between the Node.js process and the Capacitor layer.');
        }
        process.send(args);
    }
    registerChannel(channelName, callback) {
        process.on('message', (args) => {
            if (args.channelName === channelName) {
                callback(args);
            }
        });
    }
}
const platform = process.platform;
const isMobilePlatform = platform === 'android' || platform === 'ios';
const nativeBridge = isMobilePlatform
    ? new NativeMobileBridge()
    : new NativeDesktopBridge();
class Channel extends EventEmitter {
    constructor(channelName) {
        super();
        this.channelName = channelName;
        const self = this;
        nativeBridge.registerChannel(channelName, args => {
            const channelMessage = args.channelMessage;
            const payload = ChannelMessageCodec.deserialize(channelMessage);
            self.emitWrapper(payload.eventName, ...payload.args);
        });
    }
    /**
     * Sends a message to the Capacitor layer via eventName, along with arguments.
     * Arguments will be serialized with JSON.
     *
     * @param eventName The name of the event being send to.
     * @param args The Array of arguments to send.
     */
    send(eventName, ...args) {
        if (eventName === undefined || eventName === '') {
            throw new Error("Required parameter 'eventName' was not specified");
        }
        const payload = { eventName, args };
        const channelName = this.channelName;
        const channelMessage = ChannelMessageCodec.serialize(payload);
        const channelPayload = {
            channelName,
            channelMessage
        };
        nativeBridge.emit(channelPayload);
    }
    emitWrapper(eventName, ...args) {
        const self = this;
        setImmediate(() => {
            self.emit(eventName, ...args);
        });
    }
    /**
     * Listens to `eventName` and calls `listener(args...)` when a new message arrives from the Capacitor layer.
     */
    on(eventName, listener) {
        return super.on(eventName, listener);
    }
    /**
     * Listens one time to `eventName` and calls `listener(args...)` when a new message
     * arrives from the Capacitor layer, after which it is removed.
     */
    once(eventName, listener) {
        return super.once(eventName, listener);
    }
    /**
     * Alias for `channel.on(eventName, listener)`.
     */
    addListener(eventName, listener) {
        return super.once(eventName, listener);
    }
    /**
     * Removes the specified `listener` from the listener array for the specified `eventName`.
     */
    removeListener(eventName, listener) {
        return super.removeListener(eventName, listener);
    }
    /**
     * Removes all listeners, or those of the specified `eventName`.
     *
     * @param eventName The name of the event all listeners will be removed from.
     */
    removeAllListeners(eventName) {
        return super.removeAllListeners(eventName);
    }
}
const appChannel = new Channel('APP_CHANNEL');
/**
 * Provides a few methods to send messages from the Node.js process to the Capacitor layer,
 * and to receive replies from the Capacitor layer.
 */
const eventChannel = new Channel('EVENT_CHANNEL');
/**
 * Returns a path for a per-user application data directory on each platform,
 * where data can be read and written.
 */
function getDataPath() {
    const path = process.env['DATADIR'];
    if (!path) {
        throw new Error('Unable to get a directory for persistent data storage.');
    }
    return path;
}

appChannel.send('ready');

export { eventChannel as channel, getDataPath };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9icmlkZ2UvYnVpbGQvYnJpZGdlL3NyYy91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2JyaWRnZS9idWlsZC9icmlkZ2Uvc3JjL2JyaWRnZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2JyaWRnZS9idWlsZC9icmlkZ2Uvc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDaGFubmVsTWVzc2FnZUNvZGVjIHtcbiAgICBzdGF0aWMgc2VyaWFsaXplKHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gcGF5bG9hZC5ldmVudE5hbWU7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBwYXlsb2FkLmFyZ3M7XG4gICAgICAgIGNvbnN0IGV2ZW50TWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRNZXNzYWdlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIHJldHVybiBjaGFubmVsTWVzc2FnZTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGNoYW5uZWxNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNoYW5uZWxNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZGF0YS5ldmVudE5hbWU7XG4gICAgICAgIGNvbnN0IGV2ZW50TWVzc2FnZSA9IGRhdGEuZXZlbnRNZXNzYWdlO1xuICAgICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgICBpZiAoZXZlbnRNZXNzYWdlKSB7XG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShldmVudE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICBhcmdzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgcHJvY2VzcyBmcm9tICdwcm9jZXNzJztcbmltcG9ydCB7IENoYW5uZWxNZXNzYWdlQ29kZWMgfSBmcm9tICcuL3V0aWxzJztcbmNsYXNzIE5hdGl2ZU1vYmlsZUJyaWRnZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9iaWxlQnJpZGdlID0gcHJvY2Vzcy5fbGlua2VkQmluZGluZygnbmF0aXZlQnJpZGdlJyk7XG4gICAgfVxuICAgIGVtaXQoYXJncykge1xuICAgICAgICB0aGlzLm1vYmlsZUJyaWRnZS5lbWl0KGFyZ3MuY2hhbm5lbE5hbWUsIGFyZ3MuY2hhbm5lbE1lc3NhZ2UpO1xuICAgIH1cbiAgICByZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubW9iaWxlQnJpZGdlLnJlZ2lzdGVyQ2hhbm5lbChjaGFubmVsTmFtZSwgKGNoYW5uZWxOYW1lLCBjaGFubmVsTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soeyBjaGFubmVsTmFtZSwgY2hhbm5lbE1lc3NhZ2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIE5hdGl2ZURlc2t0b3BCcmlkZ2Uge1xuICAgIGVtaXQoYXJncykge1xuICAgICAgICBpZiAoIXByb2Nlc3Muc2VuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBJUEMgY2hhbm5lbCBoYXMgYmVlbiBlc3RhYmxpc2hlZCBiZXR3ZWVuIHRoZSBOb2RlLmpzIHByb2Nlc3MgYW5kIHRoZSBDYXBhY2l0b3IgbGF5ZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5zZW5kKGFyZ3MpO1xuICAgIH1cbiAgICByZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHByb2Nlc3Mub24oJ21lc3NhZ2UnLCAoYXJncykgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2hhbm5lbE5hbWUgPT09IGNoYW5uZWxOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcbmNvbnN0IGlzTW9iaWxlUGxhdGZvcm0gPSBwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnIHx8IHBsYXRmb3JtID09PSAnaW9zJztcbmNvbnN0IG5hdGl2ZUJyaWRnZSA9IGlzTW9iaWxlUGxhdGZvcm1cbiAgICA/IG5ldyBOYXRpdmVNb2JpbGVCcmlkZ2UoKVxuICAgIDogbmV3IE5hdGl2ZURlc2t0b3BCcmlkZ2UoKTtcbmNsYXNzIENoYW5uZWwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbE5hbWUgPSBjaGFubmVsTmFtZTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIG5hdGl2ZUJyaWRnZS5yZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGFyZ3MgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbE1lc3NhZ2UgPSBhcmdzLmNoYW5uZWxNZXNzYWdlO1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IENoYW5uZWxNZXNzYWdlQ29kZWMuZGVzZXJpYWxpemUoY2hhbm5lbE1lc3NhZ2UpO1xuICAgICAgICAgICAgc2VsZi5lbWl0V3JhcHBlcihwYXlsb2FkLmV2ZW50TmFtZSwgLi4ucGF5bG9hZC5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgQ2FwYWNpdG9yIGxheWVyIHZpYSBldmVudE5hbWUsIGFsb25nIHdpdGggYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB3aWxsIGJlIHNlcmlhbGl6ZWQgd2l0aCBKU09OLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgYmVpbmcgc2VuZCB0by5cbiAgICAgKiBAcGFyYW0gYXJncyBUaGUgQXJyYXkgb2YgYXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZChldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gdW5kZWZpbmVkIHx8IGV2ZW50TmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIHBhcmFtZXRlciAnZXZlbnROYW1lJyB3YXMgbm90IHNwZWNpZmllZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBldmVudE5hbWUsIGFyZ3MgfTtcbiAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSB0aGlzLmNoYW5uZWxOYW1lO1xuICAgICAgICBjb25zdCBjaGFubmVsTWVzc2FnZSA9IENoYW5uZWxNZXNzYWdlQ29kZWMuc2VyaWFsaXplKHBheWxvYWQpO1xuICAgICAgICBjb25zdCBjaGFubmVsUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgY2hhbm5lbE1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgbmF0aXZlQnJpZGdlLmVtaXQoY2hhbm5lbFBheWxvYWQpO1xuICAgIH1cbiAgICBlbWl0V3JhcHBlcihldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmVtaXQoZXZlbnROYW1lLCAuLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RlbnMgdG8gYGV2ZW50TmFtZWAgYW5kIGNhbGxzIGBsaXN0ZW5lcihhcmdzLi4uKWAgd2hlbiBhIG5ldyBtZXNzYWdlIGFycml2ZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLlxuICAgICAqL1xuICAgIG9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5zIG9uZSB0aW1lIHRvIGBldmVudE5hbWVgIGFuZCBjYWxscyBgbGlzdGVuZXIoYXJncy4uLilgIHdoZW4gYSBuZXcgbWVzc2FnZVxuICAgICAqIGFycml2ZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLlxuICAgICAqL1xuICAgIG9uY2UoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gc3VwZXIub25jZShldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBjaGFubmVsLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpYC5cbiAgICAgKi9cbiAgICBhZGRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5vbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYGxpc3RlbmVyYCBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBgZXZlbnROYW1lYC5cbiAgICAgKi9cbiAgICByZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGBldmVudE5hbWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgYWxsIGxpc3RlbmVycyB3aWxsIGJlIHJlbW92ZWQgZnJvbS5cbiAgICAgKi9cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICB9XG59XG5jb25zdCBhcHBDaGFubmVsID0gbmV3IENoYW5uZWwoJ0FQUF9DSEFOTkVMJyk7XG4vKipcbiAqIFByb3ZpZGVzIGEgZmV3IG1ldGhvZHMgdG8gc2VuZCBtZXNzYWdlcyBmcm9tIHRoZSBOb2RlLmpzIHByb2Nlc3MgdG8gdGhlIENhcGFjaXRvciBsYXllcixcbiAqIGFuZCB0byByZWNlaXZlIHJlcGxpZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLlxuICovXG5jb25zdCBldmVudENoYW5uZWwgPSBuZXcgQ2hhbm5lbCgnRVZFTlRfQ0hBTk5FTCcpO1xuLyoqXG4gKiBSZXR1cm5zIGEgcGF0aCBmb3IgYSBwZXItdXNlciBhcHBsaWNhdGlvbiBkYXRhIGRpcmVjdG9yeSBvbiBlYWNoIHBsYXRmb3JtLFxuICogd2hlcmUgZGF0YSBjYW4gYmUgcmVhZCBhbmQgd3JpdHRlbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RGF0YVBhdGgoKSB7XG4gICAgY29uc3QgcGF0aCA9IHByb2Nlc3MuZW52WydEQVRBRElSJ107XG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBhIGRpcmVjdG9yeSBmb3IgcGVyc2lzdGVudCBkYXRhIHN0b3JhZ2UuJyk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufVxuZXhwb3J0IHsgQ2hhbm5lbE1lc3NhZ2VDb2RlYywgYXBwQ2hhbm5lbCwgZXZlbnRDaGFubmVsLCBnZXREYXRhUGF0aCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJpZGdlLmpzLm1hcCIsImltcG9ydCB7IGFwcENoYW5uZWwsIGV2ZW50Q2hhbm5lbCwgZ2V0RGF0YVBhdGggfSBmcm9tICcuL2JyaWRnZSc7XG5hcHBDaGFubmVsLnNlbmQoJ3JlYWR5Jyk7XG5leHBvcnQgeyBldmVudENoYW5uZWwgYXMgY2hhbm5lbCwgZ2V0RGF0YVBhdGggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBTyxNQUFNLG1CQUFtQixDQUFDO0FBQ2pDLElBQUksT0FBTyxTQUFTLENBQUMsT0FBTyxFQUFFO0FBQzlCLFFBQVEsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUM1QyxRQUFRLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDbEMsUUFBUSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xELFFBQVEsTUFBTSxJQUFJLEdBQUc7QUFDckIsWUFBWSxTQUFTO0FBQ3JCLFlBQVksWUFBWTtBQUN4QixTQUFTLENBQUM7QUFDVixRQUFRLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEQsUUFBUSxPQUFPLGNBQWMsQ0FBQztBQUM5QixLQUFLO0FBQ0wsSUFBSSxPQUFPLFdBQVcsQ0FBQyxjQUFjLEVBQUU7QUFDdkMsUUFBUSxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ2hELFFBQVEsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUN6QyxRQUFRLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7QUFDL0MsUUFBUSxJQUFJ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
