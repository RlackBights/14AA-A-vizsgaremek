'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var events = require('events');
var process = require('process');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var process__default = /*#__PURE__*/_interopDefaultLegacy(process);

class ChannelMessageCodec {
    static serialize(payload) {
        const eventName = payload.eventName;
        const args = payload.args;
        const eventMessage = JSON.stringify(args);
        const data = {
            eventName,
            eventMessage
        };
        const channelMessage = JSON.stringify(data);
        return channelMessage;
    }
    static deserialize(channelMessage) {
        const data = JSON.parse(channelMessage);
        const eventName = data.eventName;
        const eventMessage = data.eventMessage;
        let args = [];
        if (eventMessage) {
            args = JSON.parse(eventMessage);
        }
        const payload = {
            eventName,
            args
        };
        return payload;
    }
}

class NativeMobileBridge {
    constructor() {
        this.mobileBridge = process__default["default"]._linkedBinding('nativeBridge');
    }
    emit(args) {
        this.mobileBridge.emit(args.channelName, args.channelMessage);
    }
    registerChannel(channelName, callback) {
        this.mobileBridge.registerChannel(channelName, (channelName, channelMessage) => {
            callback({ channelName, channelMessage });
        });
    }
}
class NativeDesktopBridge {
    emit(args) {
        if (!process__default["default"].send) {
            throw new Error('No IPC channel has been established between the Node.js process and the Capacitor layer.');
        }
        process__default["default"].send(args);
    }
    registerChannel(channelName, callback) {
        process__default["default"].on('message', (args) => {
            if (args.channelName === channelName) {
                callback(args);
            }
        });
    }
}
const platform = process__default["default"].platform;
const isMobilePlatform = platform === 'android' || platform === 'ios';
const nativeBridge = isMobilePlatform
    ? new NativeMobileBridge()
    : new NativeDesktopBridge();
class Channel extends events.EventEmitter {
    constructor(channelName) {
        super();
        this.channelName = channelName;
        const self = this;
        nativeBridge.registerChannel(channelName, args => {
            const channelMessage = args.channelMessage;
            const payload = ChannelMessageCodec.deserialize(channelMessage);
            self.emitWrapper(payload.eventName, ...payload.args);
        });
    }
    /**
     * Sends a message to the Capacitor layer via eventName, along with arguments.
     * Arguments will be serialized with JSON.
     *
     * @param eventName The name of the event being send to.
     * @param args The Array of arguments to send.
     */
    send(eventName, ...args) {
        if (eventName === undefined || eventName === '') {
            throw new Error("Required parameter 'eventName' was not specified");
        }
        const payload = { eventName, args };
        const channelName = this.channelName;
        const channelMessage = ChannelMessageCodec.serialize(payload);
        const channelPayload = {
            channelName,
            channelMessage
        };
        nativeBridge.emit(channelPayload);
    }
    emitWrapper(eventName, ...args) {
        const self = this;
        setImmediate(() => {
            self.emit(eventName, ...args);
        });
    }
    /**
     * Listens to `eventName` and calls `listener(args...)` when a new message arrives from the Capacitor layer.
     */
    on(eventName, listener) {
        return super.on(eventName, listener);
    }
    /**
     * Listens one time to `eventName` and calls `listener(args...)` when a new message
     * arrives from the Capacitor layer, after which it is removed.
     */
    once(eventName, listener) {
        return super.once(eventName, listener);
    }
    /**
     * Alias for `channel.on(eventName, listener)`.
     */
    addListener(eventName, listener) {
        return super.once(eventName, listener);
    }
    /**
     * Removes the specified `listener` from the listener array for the specified `eventName`.
     */
    removeListener(eventName, listener) {
        return super.removeListener(eventName, listener);
    }
    /**
     * Removes all listeners, or those of the specified `eventName`.
     *
     * @param eventName The name of the event all listeners will be removed from.
     */
    removeAllListeners(eventName) {
        return super.removeAllListeners(eventName);
    }
}
const appChannel = new Channel('APP_CHANNEL');
/**
 * Provides a few methods to send messages from the Node.js process to the Capacitor layer,
 * and to receive replies from the Capacitor layer.
 */
const eventChannel = new Channel('EVENT_CHANNEL');
/**
 * Returns a path for a per-user application data directory on each platform,
 * where data can be read and written.
 */
function getDataPath() {
    const path = process__default["default"].env['DATADIR'];
    if (!path) {
        throw new Error('Unable to get a directory for persistent data storage.');
    }
    return path;
}

appChannel.send('ready');

exports.channel = eventChannel;
exports.getDataPath = getDataPath;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9icmlkZ2UvYnVpbGQvYnJpZGdlL3NyYy91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2JyaWRnZS9idWlsZC9icmlkZ2Uvc3JjL2JyaWRnZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2JyaWRnZS9idWlsZC9icmlkZ2Uvc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDaGFubmVsTWVzc2FnZUNvZGVjIHtcbiAgICBzdGF0aWMgc2VyaWFsaXplKHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gcGF5bG9hZC5ldmVudE5hbWU7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBwYXlsb2FkLmFyZ3M7XG4gICAgICAgIGNvbnN0IGV2ZW50TWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRNZXNzYWdlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIHJldHVybiBjaGFubmVsTWVzc2FnZTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGNoYW5uZWxNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNoYW5uZWxNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZGF0YS5ldmVudE5hbWU7XG4gICAgICAgIGNvbnN0IGV2ZW50TWVzc2FnZSA9IGRhdGEuZXZlbnRNZXNzYWdlO1xuICAgICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgICBpZiAoZXZlbnRNZXNzYWdlKSB7XG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShldmVudE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICBhcmdzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgcHJvY2VzcyBmcm9tICdwcm9jZXNzJztcbmltcG9ydCB7IENoYW5uZWxNZXNzYWdlQ29kZWMgfSBmcm9tICcuL3V0aWxzJztcbmNsYXNzIE5hdGl2ZU1vYmlsZUJyaWRnZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9iaWxlQnJpZGdlID0gcHJvY2Vzcy5fbGlua2VkQmluZGluZygnbmF0aXZlQnJpZGdlJyk7XG4gICAgfVxuICAgIGVtaXQoYXJncykge1xuICAgICAgICB0aGlzLm1vYmlsZUJyaWRnZS5lbWl0KGFyZ3MuY2hhbm5lbE5hbWUsIGFyZ3MuY2hhbm5lbE1lc3NhZ2UpO1xuICAgIH1cbiAgICByZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubW9iaWxlQnJpZGdlLnJlZ2lzdGVyQ2hhbm5lbChjaGFubmVsTmFtZSwgKGNoYW5uZWxOYW1lLCBjaGFubmVsTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soeyBjaGFubmVsTmFtZSwgY2hhbm5lbE1lc3NhZ2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIE5hdGl2ZURlc2t0b3BCcmlkZ2Uge1xuICAgIGVtaXQoYXJncykge1xuICAgICAgICBpZiAoIXByb2Nlc3Muc2VuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBJUEMgY2hhbm5lbCBoYXMgYmVlbiBlc3RhYmxpc2hlZCBiZXR3ZWVuIHRoZSBOb2RlLmpzIHByb2Nlc3MgYW5kIHRoZSBDYXBhY2l0b3IgbGF5ZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5zZW5kKGFyZ3MpO1xuICAgIH1cbiAgICByZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHByb2Nlc3Mub24oJ21lc3NhZ2UnLCAoYXJncykgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2hhbm5lbE5hbWUgPT09IGNoYW5uZWxOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcbmNvbnN0IGlzTW9iaWxlUGxhdGZvcm0gPSBwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnIHx8IHBsYXRmb3JtID09PSAnaW9zJztcbmNvbnN0IG5hdGl2ZUJyaWRnZSA9IGlzTW9iaWxlUGxhdGZvcm1cbiAgICA/IG5ldyBOYXRpdmVNb2JpbGVCcmlkZ2UoKVxuICAgIDogbmV3IE5hdGl2ZURlc2t0b3BCcmlkZ2UoKTtcbmNsYXNzIENoYW5uZWwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbE5hbWUgPSBjaGFubmVsTmFtZTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIG5hdGl2ZUJyaWRnZS5yZWdpc3RlckNoYW5uZWwoY2hhbm5lbE5hbWUsIGFyZ3MgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbE1lc3NhZ2UgPSBhcmdzLmNoYW5uZWxNZXNzYWdlO1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IENoYW5uZWxNZXNzYWdlQ29kZWMuZGVzZXJpYWxpemUoY2hhbm5lbE1lc3NhZ2UpO1xuICAgICAgICAgICAgc2VsZi5lbWl0V3JhcHBlcihwYXlsb2FkLmV2ZW50TmFtZSwgLi4ucGF5bG9hZC5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgQ2FwYWNpdG9yIGxheWVyIHZpYSBldmVudE5hbWUsIGFsb25nIHdpdGggYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB3aWxsIGJlIHNlcmlhbGl6ZWQgd2l0aCBKU09OLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgYmVpbmcgc2VuZCB0by5cbiAgICAgKiBAcGFyYW0gYXJncyBUaGUgQXJyYXkgb2YgYXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZChldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gdW5kZWZpbmVkIHx8IGV2ZW50TmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIHBhcmFtZXRlciAnZXZlbnROYW1lJyB3YXMgbm90IHNwZWNpZmllZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBldmVudE5hbWUsIGFyZ3MgfTtcbiAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSB0aGlzLmNoYW5uZWxOYW1lO1xuICAgICAgICBjb25zdCBjaGFubmVsTWVzc2FnZSA9IENoYW5uZWxNZXNzYWdlQ29kZWMuc2VyaWFsaXplKHBheWxvYWQpO1xuICAgICAgICBjb25zdCBjaGFubmVsUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgY2hhbm5lbE1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgbmF0aXZlQnJpZGdlLmVtaXQoY2hhbm5lbFBheWxvYWQpO1xuICAgIH1cbiAgICBlbWl0V3JhcHBlcihldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmVtaXQoZXZlbnROYW1lLCAuLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RlbnMgdG8gYGV2ZW50TmFtZWAgYW5kIGNhbGxzIGBsaXN0ZW5lcihhcmdzLi4uKWAgd2hlbiBhIG5ldyBtZXNzYWdlIGFycml2ZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLlxuICAgICAqL1xuICAgIG9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5zIG9uZSB0aW1lIHRvIGBldmVudE5hbWVgIGFuZCBjYWxscyBgbGlzdGVuZXIoYXJncy4uLilgIHdoZW4gYSBuZXcgbWVzc2FnZVxuICAgICAqIGFycml2ZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLlxuICAgICAqL1xuICAgIG9uY2UoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gc3VwZXIub25jZShldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBjaGFubmVsLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpYC5cbiAgICAgKi9cbiAgICBhZGRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5vbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYGxpc3RlbmVyYCBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBgZXZlbnROYW1lYC5cbiAgICAgKi9cbiAgICByZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGBldmVudE5hbWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgYWxsIGxpc3RlbmVycyB3aWxsIGJlIHJlbW92ZWQgZnJvbS5cbiAgICAgKi9cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICB9XG59XG5jb25zdCBhcHBDaGFubmVsID0gbmV3IENoYW5uZWwoJ0FQUF9DSEFOTkVMJyk7XG4vKipcbiAqIFByb3ZpZGVzIGEgZmV3IG1ldGhvZHMgdG8gc2VuZCBtZXNzYWdlcyBmcm9tIHRoZSBOb2RlLmpzIHByb2Nlc3MgdG8gdGhlIENhcGFjaXRvciBsYXllcixcbiAqIGFuZCB0byByZWNlaXZlIHJlcGxpZXMgZnJvbSB0aGUgQ2FwYWNpdG9yIGxheWVyLlxuICovXG5jb25zdCBldmVudENoYW5uZWwgPSBuZXcgQ2hhbm5lbCgnRVZFTlRfQ0hBTk5FTCcpO1xuLyoqXG4gKiBSZXR1cm5zIGEgcGF0aCBmb3IgYSBwZXItdXNlciBhcHBsaWNhdGlvbiBkYXRhIGRpcmVjdG9yeSBvbiBlYWNoIHBsYXRmb3JtLFxuICogd2hlcmUgZGF0YSBjYW4gYmUgcmVhZCBhbmQgd3JpdHRlbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RGF0YVBhdGgoKSB7XG4gICAgY29uc3QgcGF0aCA9IHByb2Nlc3MuZW52WydEQVRBRElSJ107XG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBhIGRpcmVjdG9yeSBmb3IgcGVyc2lzdGVudCBkYXRhIHN0b3JhZ2UuJyk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufVxuZXhwb3J0IHsgQ2hhbm5lbE1lc3NhZ2VDb2RlYywgYXBwQ2hhbm5lbCwgZXZlbnRDaGFubmVsLCBnZXREYXRhUGF0aCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJpZGdlLmpzLm1hcCIsImltcG9ydCB7IGFwcENoYW5uZWwsIGV2ZW50Q2hhbm5lbCwgZ2V0RGF0YVBhdGggfSBmcm9tICcuL2JyaWRnZSc7XG5hcHBDaGFubmVsLnNlbmQoJ3JlYWR5Jyk7XG5leHBvcnQgeyBldmVudENoYW5uZWwgYXMgY2hhbm5lbCwgZ2V0RGF0YVBhdGggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJwcm9jZXNzIiwiRXZlbnRFbWl0dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFPLE1BQU0sbUJBQW1CLENBQUM7QUFDakMsSUFBSSxPQUFPLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDOUIsUUFBUSxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQzVDLFFBQVEsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUNsQyxRQUFRLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEQsUUFBUSxNQUFNLElBQUksR0FBRztBQUNyQixZQUFZLFNBQVM7QUFDckIsWUFBWSxZQUFZO0FBQ3hCLFNBQVMsQ0FBQztBQUNWLFFBQVEsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwRCxRQUFRLE9BQU8sY0FBYyxDQUFDO0FBQzlCLEtBQUs7QUFDTCxJQUFJLE9BQU8sV0FBVyxDQUFDLGNBQWMsRUFBRTtBQUN2QyxRQUFRLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDaEQsUUFBUSxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQ3pDLFFBQVEsTUFBTSxZQUFZLEdBQUcsSUFB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
